(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-637b9b68"],{"4ac7":function(e,t,a){"use strict";var n=a("be58"),l=a.n(n);l.a},"85e6":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"project-index"},[a("div",{staticClass:"box"},[a("div",{staticClass:"searchs"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.search}},[a("el-form-item",{attrs:{label:"项目名称"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入项目名称"},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目类型"}},[a("el-select",{attrs:{placeholder:"请选择项目类型",clearable:""},model:{value:e.search.type,callback:function(t){e.$set(e.search,"type",t)},expression:"search.type"}},e._l(e.typelist,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleQuery}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{staticClass:"edits"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-table",{attrs:{data:e.list,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序"}}),e._v(" "),a("el-table-column",{attrs:{prop:"img",label:"封面",width:"180"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"cover",attrs:{src:e.row.cover,alt:e.row.name}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"top"},model:{value:t.row.isDelete,callback:function(a){e.$set(t.row,"isDelete",a)},expression:"scope.row.isDelete"}},[a("p",[e._v("确定删除？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.row.isDelete=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return a.stopPropagation(),e.handleDelete(t)}}},[e._v("确定")])],1),e._v(" "),a("el-button",{attrs:{slot:"reference",size:"small"},slot:"reference"},[e._v("删除")])],1),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return a.stopPropagation(),e.handleEdit(t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next","page-sizes":[5,10,20,50],total:e.pages.total,"page-size":e.pages.pageSize,"current-page":e.pages.current},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},l=[],s=(a("386d"),a("aa2a")),r=a("db49"),i={name:"ProjectIndex",data:function(){return{search:{name:"",type:""},typelist:r["a"].type,list:[],pages:{current:1,total:0,pageSize:10},dialong:!1}},mounted:function(){console.log(r["a"]),this.query()},methods:{query:function(){var e=this;s["a"].getList(Object.assign({},this.search,{current:1,pageSize:10})).then((function(t){e.list=t.data.list,e.pages.total=t.data.total}))},handleQuery:function(){this.query()},handleAdd:function(){this.$router.push("add")},handleEdit:function(e){this.$router.push("edit?id="+e.id)},handleDelete:function(e){var t=this,a=e.$index;s["a"].edit({id:e.row.id,isDelete:!0}).then((function(e){t.$message.success("删除成功"),t.list[a].isDelete=!1,1===t.list.length&&t.pages.current>1&&(t.pages.current=t.pages.current-1),t.query()}))},handleSizeChange:function(e){},handleCurrentChange:function(e){}}},o=i,c=(a("4ac7"),a("2877")),u=Object(c["a"])(o,n,l,!1,null,"1b5794f7",null);t["default"]=u.exports},aa2a:function(e,t,a){"use strict";var n=a("b775"),l={getList:function(e){return Object(n["a"])({url:"/news/list",method:"get",params:e})},add:function(e){return Object(n["a"])({url:"/news/add",method:"post",data:e})},edit:function(e){return Object(n["a"])({url:"/news/upload",method:"post",data:e})},detail:function(e){return Object(n["a"])({url:"/news/detail",method:"get",params:e})}};t["a"]=l},be58:function(e,t,a){},db49:function(e,t,a){"use strict";t["a"]={type:[{id:1,name:"多媒体数字展厅"},{id:2,name:"大型灯光秀"},{id:3,name:"大型水幕秀"},{id:4,name:"影视TV"},{id:5,name:"建筑可视化漫游"},{id:6,name:"三位产品动画"}],newsType:[{id:1,name:"公司内部"},{id:2,name:"合作单位"},{id:3,name:"媒体报道"}]}}}]);