(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-194b4d0a"],{"779e":function(e,t,a){"use strict";var n=a("7e20"),l=a.n(n);l.a},"7e20":function(e,t,a){},"85e6":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"project-index"},[a("div",{staticClass:"box"},[a("div",{staticClass:"searchs"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.search}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择状态",clearable:""},model:{value:e.search.isSend,callback:function(t){e.$set(e.search,"isSend",t)},expression:"search.isSend"}},e._l(e.typelist,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleQuery}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{staticClass:"edits"}),e._v(" "),a("el-table",{attrs:{data:e.list,border:""}},[a("el-table-column",{attrs:{prop:"company",label:"公司"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"用户姓名",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机"}}),e._v(" "),a("el-table-column",{attrs:{prop:"city",label:"城市"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isReply",label:"是否需要回复"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.isReply?"是":"否"))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"isSend",label:"是否已回复"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.isSend?"已回复":"未回复"))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"message",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"top"},model:{value:t.row.isDelete,callback:function(a){e.$set(t.row,"isDelete",a)},expression:"scope.row.isDelete"}},[a("p",[e._v("确定删除？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.row.isDelete=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return a.stopPropagation(),e.handleDelete(t)}}},[e._v("确定")])],1),e._v(" "),a("el-button",{attrs:{slot:"reference",size:"small"},slot:"reference"},[e._v("删除")])],1),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return a.stopPropagation(),e.handleEdit(t.row)}}},[e._v("回复")])]}}])})],1),e._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next","page-sizes":[5,10,20,50],total:e.pages.total,"page-size":e.pages.pageSize,"current-page":e.pages.current},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},l=[],s=(a("386d"),a("b775")),r={getList:function(e){return Object(s["a"])({url:"/email/list",method:"get",params:e})},add:function(e){return Object(s["a"])({url:"/email/add",method:"post",data:e})},detail:function(e){return Object(s["a"])({url:"/email/detail",method:"get",params:e})}},i=r,o={name:"ProjectIndex",data:function(){return{search:{name:"",isSend:""},typelist:[{name:"全部",value:""},{name:"回复",value:!0},{name:"未回复",value:!1}],list:[],pages:{current:1,total:0,pageSize:10},dialong:!1}},mounted:function(){this.query()},methods:{query:function(){var e=this;i.getList(Object.assign({},this.search,{current:1,pageSize:10})).then((function(t){e.list=t.data.list,e.pages.total=t.data.total}))},handleQuery:function(){this.query()},handleAdd:function(){this.$router.push("add")},handleEdit:function(e){this.$router.push("edit?id="+e.id)},handleDelete:function(e){var t=this,a=e.$index;i.edit({id:e.row.id,isDelete:!0}).then((function(e){t.$message.success("删除成功"),t.list[a].isDelete=!1,1===t.list.length&&t.pages.current>1&&(t.pages.current=t.pages.current-1),t.query()}))},handleSizeChange:function(e){},handleCurrentChange:function(e){}}},c=o,u=(a("779e"),a("2877")),d=Object(u["a"])(c,n,l,!1,null,"9554230c",null);t["default"]=d.exports}}]);